version: 2

macros:
  - name: generate_schema_name
    description: |
      Returns the name of a schema in which a model should land in Snowflake.

      For production models, the value from `dbt_project.yml` will be used, or any
      custom name provided in the model's config block.

      For development models, the schema from `profiles.yml` will be prepended
      to the custom value found in `dbt_project.yml` or the model's config block.
    arguments:
      - name: custom_schema_name
        type: string
        description: |
          The schema provided via `dbt_project.yml` or model config
      - name: node
        type: string
        description: |
          The node that is currently being processed by dbt
  - name: get_snowflake_refresh_warehouse
    description: |
      Full refreshes of incremental models sometimes need a little bit of
      extra firepower. This returns an appropriate (i.e. 4XL) warehouse
      for that case. Use it with caution! This returns large if the
      `--full-refresh` flag is set via the CLI.
    arguments:
      - name: small
        type: string
        description: |
          Snowflake warehouse size to use when *not* performing a full-refresh
      - name: big
        type: string
        description: |
          Snowflake warehouse size to use when performing a full-refresh
